# 主要功能描述

读取 SillyTavern 导出的聊天记录文件，提取+结构化处理对话内容，剔除不必要信息。

# 架构

底层技术：dotnet (最新)
语言：C#
数据库：FCore + SQLite
前端：Blazor Server

# 功能1：读取聊天记录

1. 读取 SillyTavern 导出的 Jsonl 文件，每行代表一条聊天记录。
2. 只读取包含 `name` 字段的条目。
3. 将读取的聊天记录写入一个类型名为 `ChatLog` 的对象，提取每条记录的：
   1. `name`：角色名称
   2. `mes`：对话内容
   3. `send_date`：发送时间
   4. `preview`：预览内容，内容为 `{Name} {SendDate} {Mes 的前 30 个字符}`。
4. 为每个 `ChatLog` 分配一个ID。
5. 将所有 `ChatLog` 对象存储在一个列表中，按发送时间排序。
6. 使用 EFCore 创建一个本地数据库，将排序后的聊天记录存储在数据库名为 `ChatLogs` 的表中。
7. 提供一个接口，允许用户查询特定角色的聊天记录。返回数据中不包括完整的Mes。
8. 提供一个接口，允许用户按分页查找所有聊天记录。返回数据中不包括完整的Mes。
9. 提供一个接口，允许用户通过ID查询单条聊天记录，返回完整的Mes。
10. 创建一个Blazor Server前端，允许用户通过网页界面进行上述查询操作。
11. 在前端页面上显示查询结果，分页显示每页50条记录。
12. 在前端页面查看聊天记录详情的modal中，提供前后翻页按钮，用于跳转到上一条或下一条记录。
13. 在前端页面的查询结果列表中，用不同背景颜色区分不同角色的记录。同时，预览文字也用不同的颜色来区分 Name 和 SendDate，避免和 Mes 混淆。